# SearchGoogle Edge Node æµ‹è¯•æ–‡æ¡£

## æ–‡æ¡£è¯´æ˜
- **ç»„ä»¶è·¯å¾„**: `PuppyFlow/app/components/workflow/edgesNode/edgeNodesNew/SearchGoogle.tsx`
- **ç»„ä»¶ç±»å‹**: Edge Node (è¾¹ç¼˜èŠ‚ç‚¹)
- **æ ¸å¿ƒèŒè´£**: Google æœç´¢èŠ‚ç‚¹ï¼Œä½¿ç”¨ Perplexity API è¿›è¡Œåœ¨çº¿æœç´¢
- **ç›®æ ‡å¹³å°**: æ¡Œé¢ç«¯
- **æµ‹è¯•çŠ¶æ€**: âœ… æµ‹è¯•å¯è¿è¡Œï¼Œ9/16 é€šè¿‡ (56.3%)

---

## ğŸ“Š æµ‹è¯•ç”¨ä¾‹è¦†ç›–æƒ…å†µæ€»è§ˆ

### ç»Ÿè®¡æ‘˜è¦

| çŠ¶æ€ | æ•°é‡ | å æ¯” | è¯´æ˜ |
|------|------|------|------|
| âœ… å·²é€šè¿‡ | 9 | 56.3% | æµ‹è¯•é€šè¿‡ |
| âŒ å¤±è´¥ | 7 | 43.7% | æµ‹è¯•å¤±è´¥ï¼ˆä¸»è¦æ˜¯å‚æ•°ä¿å­˜å’Œåˆå§‹åŒ–é—®é¢˜ï¼‰ |
| **æ€»è®¡** | **16** | **100%** | å·²å®ç°çš„æµ‹è¯•ç”¨ä¾‹ |

### æŒ‰ä¼˜å…ˆçº§çš„è¦†ç›–æƒ…å†µ

| ä¼˜å…ˆçº§ | æ€»æ•° | é€šè¿‡ | å¤±è´¥ | è¦†ç›–ç‡ |
|--------|------|------|------|--------|
| **P0** | 3 | 2 | 1 | 66.7% |
| **P1** | 5 | 1 | 4 | 20.0% |
| **P2** | 8 | 6 | 2 | 75.0% |
| **æ€»è®¡** | **16** | **9** | **7** | **56.3%** |

### æŒ‰åŠŸèƒ½æ¨¡å—çš„è¦†ç›–æƒ…å†µ

| åŠŸèƒ½æ¨¡å— | æµ‹è¯•æ•° | é€šè¿‡ | å¤±è´¥ | è¦†ç›–ç‡ |
|---------|--------|------|------|--------|
| Result Number (top_k) å‚æ•°é…ç½® | 6 | 2 | 4 | 33.3% âš ï¸ |
| Settings å±•å¼€/æ”¶èµ·äº¤äº’ | 2 | 2 | 0 | 100% âœ… |
| åˆå§‹åŒ–å’Œé»˜è®¤å€¼ | 6 | 3 | 3 | 50.0% |
| UI äº¤äº’å’ŒçŠ¶æ€ | 2 | 2 | 0 | 100% âœ… |
| **æ€»è®¡** | **16** | **9** | **7** | **56.3%** |

---

## ğŸ“ è¯¦ç»†æµ‹è¯•ç”¨ä¾‹

### åŠŸèƒ½æ¨¡å— 1: Result Number (top_k) å‚æ•°é…ç½® (P0 + P1)

| ç¼–å· | æè¿° | ä¼˜å…ˆçº§ | æ˜¯å¦å·²æµ‹è¯• | æµ‹è¯•ç±»å‹ | å¤‡æ³¨ |
|------|------|--------|-----------|---------|------|
| TC-SG-001 | ä¿®æ”¹ top_k åº”æ­£ç¡®ä¿å­˜åˆ° node.data.top_k | P0 | âœ… | å•å…ƒ | æ ¸å¿ƒå‚æ•°ä¿å­˜ |
| TC-SG-001-1 | top_k åº”ä¸ºæ•°å­—ç±»å‹ | P0 | âœ… (1/2) âŒ (1/2) | å•å…ƒ | ç±»å‹éªŒè¯é€šè¿‡ï¼Œä¿®æ”¹åæ›´æ–°å¤±è´¥ |
| TC-SG-002 | åº”èƒ½å°† top_k ä¿®æ”¹ä¸ºä¸åŒçš„æ•°å€¼ | P1 | âŒ | å•å…ƒ | å‚æ•°åˆ‡æ¢å¤±è´¥ |
| TC-SG-003 | åº”æ­£ç¡®ä¿å­˜ top_k åˆç†æœ€å°å€¼ (1) | P1 | âŒ | å•å…ƒ | è¾¹ç•Œå€¼æµ‹è¯•å¤±è´¥ |
| TC-SG-003-1 | åº”æ­£ç¡®ä¿å­˜ top_k åˆç†æœ€å¤§å€¼ (20) | P1 | âŒ | å•å…ƒ | è¾¹ç•Œå€¼æµ‹è¯•å¤±è´¥ |
| TC-SG-004 | æ¸…ç©º top_k è¾“å…¥æ¡†åº”ä¿å­˜ä¸º undefined | P1 | âŒ | å•å…ƒ | æ— æ•ˆå€¼å¤„ç†å¤±è´¥ |

**æ•°æ®ç»“æ„**:
```typescript
top_k: number | undefined  // æœç´¢ç»“æœæ•°é‡ï¼Œé»˜è®¤å€¼: 5
```

**æµ‹è¯•åœºæ™¯**:
1. æ‰“å¼€é…ç½®èœå•
2. ç‚¹å‡» "Settings" ä¸‹æ–¹çš„ "Show" æŒ‰é’®å±•å¼€è®¾ç½®
3. åœ¨ "Result Number" è¾“å…¥æ¡†è¾“å…¥æ•°å€¼
4. éªŒè¯ `node.data.top_k` æ­£ç¡®ä¿å­˜
5. æµ‹è¯•è¾¹ç•Œå€¼ (1, 20) å’Œæ¸…ç©ºåœºæ™¯

**å…³é”®è¡Œå·**: 77-79 (åˆå§‹åŒ–), 553-573 (UI è¾“å…¥æ¡†), 220-222 (ä¿å­˜é€»è¾‘)

---

### åŠŸèƒ½æ¨¡å— 2: Settings å±•å¼€/æ”¶èµ·äº¤äº’ (P2)

| ç¼–å· | æè¿° | ä¼˜å…ˆçº§ | æ˜¯å¦å·²æµ‹è¯• | æµ‹è¯•ç±»å‹ | å¤‡æ³¨ |
|------|------|--------|-----------|---------|------|
| TC-SG-005 | ç‚¹å‡» "Show" åº”å±•å¼€ Settings åŒºåŸŸ | P2 | âœ… | å•å…ƒ | å±•å¼€åŠŸèƒ½æ­£å¸¸ |
| TC-SG-005-1 | ç‚¹å‡» "Hide" åº”æ”¶èµ· Settings åŒºåŸŸ | P2 | âœ… | å•å…ƒ | æ”¶èµ·åŠŸèƒ½æ­£å¸¸ |

**æµ‹è¯•åœºæ™¯**:
1. æ‰“å¼€é…ç½®èœå•ï¼ŒSettings é»˜è®¤æ”¶èµ·
2. ç‚¹å‡» "Show" æŒ‰é’®ï¼ŒéªŒè¯æ˜¾ç¤º Result Number è¾“å…¥æ¡†
3. æŒ‰é’®æ–‡æœ¬å˜ä¸º "Hide"ï¼Œç®­å¤´å›¾æ ‡æ—‹è½¬ 180 åº¦
4. ç‚¹å‡» "Hide" æŒ‰é’®ï¼ŒéªŒè¯éšè— Settings åŒºåŸŸ
5. æŒ‰é’®æ–‡æœ¬å˜ä¸º "Show"ï¼Œç®­å¤´å›¾æ ‡æ¢å¤

**å…³é”®è¡Œå·**: 74 (showSettings çŠ¶æ€), 526 (åˆ‡æ¢æŒ‰é’®), 545-576 (Settings åŒºåŸŸ)

---

### åŠŸèƒ½æ¨¡å— 3: åˆå§‹åŒ–å’Œé»˜è®¤å€¼ (P2)

| ç¼–å· | æè¿° | ä¼˜å…ˆçº§ | æ˜¯å¦å·²æµ‹è¯• | æµ‹è¯•ç±»å‹ | å¤‡æ³¨ |
|------|------|--------|-----------|---------|------|
| TC-SG-006 | èŠ‚ç‚¹åˆå§‹åŒ–æ—¶ top_k é»˜è®¤å€¼åº”ä¸º 5 | P2 | âœ… (2/2) | å•å…ƒ | é»˜è®¤å€¼éªŒè¯é€šè¿‡ |
| TC-SG-006-1 | èŠ‚ç‚¹åˆå§‹åŒ–æ—¶åº”ä» node.data.top_k åŠ è½½ç°æœ‰é…ç½® | P2 | âŒ (0/2) | å•å…ƒ | é…ç½®åŠ è½½å¤±è´¥ï¼Œæ€»æ˜¯æ˜¾ç¤ºé»˜è®¤å€¼ 5 |
| TC-SG-007 | showSettings åˆå§‹çŠ¶æ€åº”ä¸º false | P2 | âœ… | å•å…ƒ | UI çŠ¶æ€åˆå§‹åŒ–æ­£å¸¸ |
| TC-SG-008 | ç»„ä»¶æŒ‚è½½åéªŒè¯ | P2 | âœ… (2/2) | å•å…ƒ | ç»„ä»¶æŒ‚è½½å’Œæ¸²æŸ“æ­£å¸¸ |

**æµ‹è¯•åœºæ™¯**:
1. åˆ›å»ºä¸€ä¸ªç©ºçš„ SearchGoogle èŠ‚ç‚¹ï¼ˆnode.data ä¸ºç©ºå¯¹è±¡ï¼‰
2. éªŒè¯ top_k ä½¿ç”¨é»˜è®¤å€¼ 5
3. åˆ›å»ºä¸€ä¸ªå¸¦æœ‰ç°æœ‰é…ç½®çš„èŠ‚ç‚¹ï¼ˆnode.data.top_k = 10ï¼‰
4. éªŒè¯ä» node.data æ­£ç¡®åŠ è½½é…ç½®å€¼ 10
5. éªŒè¯ showSettings åˆå§‹ä¸º false
6. éªŒè¯ç»„ä»¶æŒ‚è½½åå†…éƒ¨çŠ¶æ€æ­£ç¡®

**å…³é”®è¡Œå·**: 77-79 (top_k åˆå§‹åŒ–), 74 (showSettings), 130-132 (æŒ‚è½½ effect)

---

### åŠŸèƒ½æ¨¡å— 4: UI äº¤äº’å’ŒçŠ¶æ€ (P2 + P3)

| ç¼–å· | æè¿° | ä¼˜å…ˆçº§ | æ˜¯å¦å·²æµ‹è¯• | æµ‹è¯•ç±»å‹ | å¤‡æ³¨ |
|------|------|--------|-----------|---------|------|
| TC-SG-009 | ç‚¹å‡»èŠ‚ç‚¹æŒ‰é’®åº”æ‰“å¼€é…ç½®èœå• | P3 | â³ | å•å…ƒ | èœå•æ‰“å¼€ |
| TC-SG-009-1 | å†æ¬¡ç‚¹å‡»åº”å…³é—­é…ç½®èœå• | P3 | â³ | å•å…ƒ | èœå•å…³é—­ |
| TC-SG-010 | é¼ æ ‡æ‚¬åœèŠ‚ç‚¹æ—¶åº”æ˜¾ç¤º Run æŒ‰é’® | P2 | â³ | å•å…ƒ | Hover çŠ¶æ€ |
| TC-SG-010-1 | Run æŒ‰é’®ç‚¹å‡»åº”è§¦å‘ handleDataSubmit | P2 | â³ | å•å…ƒ | æ‰§è¡ŒåŠŸèƒ½ |

**æµ‹è¯•åœºæ™¯**:
1. æ¸²æŸ“ SearchGoogle èŠ‚ç‚¹
2. ç‚¹å‡»èŠ‚ç‚¹ä¸»æŒ‰é’®ï¼ŒéªŒè¯èœå•æ˜¾ç¤º
3. éªŒè¯èœå•åŒ…å«å¿…éœ€çš„ UI å…ƒç´ ï¼ˆGoogle å›¾æ ‡ã€æ ‡é¢˜ã€Run æŒ‰é’®ã€InputOutputDisplayã€Settingsï¼‰
4. å†æ¬¡ç‚¹å‡»ï¼ŒéªŒè¯èœå•å…³é—­
5. æ¨¡æ‹Ÿé¼ æ ‡æ‚¬åœï¼ŒéªŒè¯ Run æŒ‰é’®ä» opacity-0 å˜ä¸º opacity-100
6. ç‚¹å‡» Run æŒ‰é’®ï¼ŒéªŒè¯è°ƒç”¨ handleDataSubmit

**å…³é”®è¡Œå·**: 234-252 (onClickButton), 326-354 (Run æŒ‰é’®), 356-430 (ä¸»æŒ‰é’®)

---

### åŠŸèƒ½æ¨¡å— 5: è¾“å…¥è¾“å‡ºè¿æ¥ (P3)

| ç¼–å· | æè¿° | ä¼˜å…ˆçº§ | æ˜¯å¦å·²æµ‹è¯• | æµ‹è¯•ç±»å‹ | å¤‡æ³¨ |
|------|------|--------|-----------|---------|------|
| TC-SG-011 | InputOutputDisplay åº”é…ç½® text è¾“å…¥ç±»å‹ | P3 | â³ | å•å…ƒ | è¾“å…¥ç±»å‹éªŒè¯ |
| TC-SG-011-1 | InputOutputDisplay åº”é…ç½® structured è¾“å‡ºç±»å‹ | P3 | â³ | å•å…ƒ | è¾“å‡ºç±»å‹éªŒè¯ |

**æµ‹è¯•åœºæ™¯**:
1. æ¸²æŸ“ SearchGoogle èŠ‚ç‚¹å¹¶æ‰“å¼€èœå•
2. éªŒè¯ InputOutputDisplay ç»„ä»¶è¢«æ­£ç¡®æ¸²æŸ“
3. éªŒè¯ props:
   - supportedInputTypes: ['text']
   - supportedOutputTypes: ['structured']
   - inputNodeCategory: 'blocknode'
   - outputNodeCategory: 'blocknode'

**å…³é”®è¡Œå·**: 507-516 (InputOutputDisplay é…ç½®)

---

## ğŸ¯ ä¼˜å…ˆçº§å®šä¹‰å’Œç¤ºä¾‹

### P0 - è‡´å‘½ (Critical)
**å®šä¹‰**: æ ¸å¿ƒé“¾è·¯ä¸å¯ç”¨æˆ–å‘ç”Ÿæ•°æ®å®‰å…¨äº‹ä»¶ï¼Œå½±å“å¤§å¤šæ•°ç”¨æˆ·ï¼Œéœ€ç«‹å³å›æ»šæˆ–ç†”æ–­å¹¶å…¨å‘˜å“åº”ã€‚

**SearchGoogle èŠ‚ç‚¹ P0 ç¤ºä¾‹**:
- âŒ ä¿®æ”¹ top_k åæ— æ³•ä¿å­˜ï¼Œå¯¼è‡´èŠ‚ç‚¹æ— æ³•æ­£ç¡®é™åˆ¶æœç´¢ç»“æœæ•°é‡
- âŒ top_k æ•°æ®ç±»å‹é”™è¯¯ï¼Œå¯¼è‡´åç«¯ API è°ƒç”¨å¤±è´¥
- âŒ èŠ‚ç‚¹æ— æ³•æ­£ç¡®è§¦å‘æœç´¢æ‰§è¡Œï¼Œå¯¼è‡´åŠŸèƒ½å®Œå…¨ä¸å¯ç”¨
- âŒ å‚æ•°ä¿å­˜æ—¶æœºé”™è¯¯ï¼Œå¯¼è‡´ç”¨æˆ·é…ç½®ä¸¢å¤±

**ä¸ºä»€ä¹ˆæ˜¯ P0**: SearchGoogle èŠ‚ç‚¹çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯æœç´¢ï¼Œtop_k æ˜¯æ§åˆ¶æœç´¢ç»“æœæ•°é‡çš„å”¯ä¸€é…ç½®å‚æ•°ã€‚å¦‚æœè¿™ä¸ªå‚æ•°æ— æ³•æ­£ç¡®ä¿å­˜æˆ–ç±»å‹é”™è¯¯ï¼Œä¼šå¯¼è‡´æœç´¢ç»“æœä¸ç¬¦åˆé¢„æœŸæˆ– API è°ƒç”¨å¤±è´¥ï¼Œä½¿èŠ‚ç‚¹åŠŸèƒ½ä¸å¯ç”¨ã€‚

---

### P1 - ä¸¥é‡ (High)
**å®šä¹‰**: å¤§é‡ç”¨æˆ·æ ¸å¿ƒä½“éªŒé™çº§æˆ–åŒºåŸŸæ€§ä¸å¯ç”¨ï¼Œå¯ä¸´æ—¶ç»•è¿‡ï¼Œéœ€å¿«é€Ÿä¿®å¤æˆ–ç°åº¦å›é€€ã€‚

**SearchGoogle èŠ‚ç‚¹ P1 ç¤ºä¾‹**:
- âš ï¸ æ— æ³•ä¿®æ”¹å·²è®¾ç½®çš„ top_k å€¼ï¼Œç”¨æˆ·éœ€è¦åˆ é™¤é‡å»ºèŠ‚ç‚¹
- âš ï¸ è¾¹ç•Œå€¼ (1, 20) æ— æ³•æ­£ç¡®ä¿å­˜ï¼Œé™åˆ¶äº†å‚æ•°é…ç½®èŒƒå›´
- âš ï¸ æ¸…ç©º top_k åä¿å­˜ä¸ºé”™è¯¯çš„å€¼ï¼ˆå¦‚ 0 æˆ– NaNï¼‰ï¼Œå¯¼è‡´ API è°ƒç”¨å¤±è´¥
- âš ï¸ å‚æ•°ä¿®æ”¹åéœ€è¦åˆ·æ–°é¡µé¢æ‰èƒ½ç”Ÿæ•ˆï¼Œä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒ
- âš ï¸ Settings å±•å¼€/æ”¶èµ·çŠ¶æ€å¼‚å¸¸ï¼Œç”¨æˆ·æ— æ³•è®¿é—®é…ç½®é€‰é¡¹

**ä¸ºä»€ä¹ˆæ˜¯ P1**: è¿™äº›é—®é¢˜å½±å“ç”¨æˆ·ä¿®æ”¹é…ç½®çš„èƒ½åŠ›ï¼Œè™½ç„¶å¯ä»¥é€šè¿‡åˆ é™¤é‡å»ºèŠ‚ç‚¹æˆ–åˆ·æ–°é¡µé¢ç»•è¿‡ï¼Œä½†ä¸¥é‡é™ä½äº†ç”¨æˆ·ä½“éªŒå’Œå·¥ä½œæ•ˆç‡ã€‚è¾¹ç•Œå€¼æ— æ³•ä¿å­˜ä¼šé™åˆ¶ç”¨æˆ·çš„é…ç½®çµæ´»æ€§ã€‚

---

### P2 - ä¸­ç­‰ (Medium)
**å®šä¹‰**: éæ ¸å¿ƒåŠŸèƒ½æˆ–å¶å‘é—®é¢˜ï¼Œå¯é€šè¿‡é‡è¯•æˆ–é…ç½®ç»•è¿‡ï¼Œå·¥ä½œæ—¶æ®µå†…ä¿®å¤ã€‚

**SearchGoogle èŠ‚ç‚¹ P2 ç¤ºä¾‹**:
- â„¹ï¸ åˆå§‹åŒ–æ—¶æœªåŠ è½½ç°æœ‰çš„ top_k é…ç½®ï¼Œä½†é‡æ–°é…ç½®åå¯ä»¥æ­£å¸¸ä½¿ç”¨
- â„¹ï¸ é»˜è®¤å€¼ä¸æ˜¯ 5ï¼Œä½†ç”¨æˆ·å¯ä»¥æ‰‹åŠ¨è®¾ç½®æ­£ç¡®çš„å€¼
- â„¹ï¸ Settings é»˜è®¤å±•å¼€è€Œéæ”¶èµ·ï¼Œå½±å“åˆå§‹è§†è§‰ä½“éªŒä½†ä¸é˜»æ–­åŠŸèƒ½
- â„¹ï¸ Run æŒ‰é’® hover çŠ¶æ€ä¸æ˜¾ç¤ºï¼Œä½†å¯ä»¥é€šè¿‡èœå•ä¸­çš„ Run æŒ‰é’®æ‰§è¡Œ
- â„¹ï¸ ç»„ä»¶å†…éƒ¨çŠ¶æ€ç®¡ç†å¼‚å¸¸ï¼Œä½†ä¸å½±å“æœ€ç»ˆåŠŸèƒ½
- â„¹ï¸ å‚æ•°ä¿å­˜æ—¶æœºæœ‰è½»å¾®å»¶è¿Ÿï¼Œä½†æœ€ç»ˆèƒ½æ­£ç¡®ä¿å­˜

**ä¸ºä»€ä¹ˆæ˜¯ P2**: è¿™äº›é—®é¢˜å½±å“åˆå§‹ä½“éªŒæˆ–å¯é€‰çš„äº¤äº’æ–¹å¼ï¼Œä¸é˜»æ–­æ ¸å¿ƒå·¥ä½œæµç¨‹ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å…¶ä»–æ–¹å¼è¾¾æˆç›®æ ‡ã€‚é»˜è®¤å€¼ä¸æ­£ç¡®æˆ–åˆå§‹åŒ–é—®é¢˜å¯ä»¥é€šè¿‡æ‰‹åŠ¨é…ç½®è§£å†³ã€‚

---

### P3 - è½»å¾® (Low)
**å®šä¹‰**: ä¸é˜»æ–­ä¸»æµç¨‹çš„ç•Œé¢æˆ–æ–‡æ¡ˆé—®é¢˜ï¼Œçº³å…¥å¸¸è§„æ’æœŸã€‚

**SearchGoogle èŠ‚ç‚¹ P3 ç¤ºä¾‹**:
- ğŸ’¡ é…ç½®èœå•æ‰“å¼€/å…³é—­åŠ¨ç”»å¼‚å¸¸æˆ–å¡é¡¿
- ğŸ’¡ Google å›¾æ ‡æ˜¾ç¤ºæ¨¡ç³Šæˆ–é¢œè‰²é”™è¯¯
- ğŸ’¡ Settings å±•å¼€ç®­å¤´å›¾æ ‡æ—‹è½¬åŠ¨ç”»ä¸æµç•…
- ğŸ’¡ Run æŒ‰é’®æ–‡æœ¬å¤§å°å†™ä¸ä¸€è‡´ï¼ˆRun vs runï¼‰
- ğŸ’¡ InputOutputDisplay ç»„ä»¶è¾¹è·æˆ–å¯¹é½é—®é¢˜
- ğŸ’¡ Hover çŠ¶æ€é¢œè‰²è¿‡æ¸¡ä¸å¹³æ»‘
- ğŸ’¡ Result Number æ ‡ç­¾æ–‡æœ¬æ‹¼å†™æˆ–æ ¼å¼é—®é¢˜

**ä¸ºä»€ä¹ˆæ˜¯ P3**: è¿™äº›æ˜¯ UI/UX ç›¸å…³çš„å°é—®é¢˜ï¼Œä¸å½±å“å®é™…åŠŸèƒ½ï¼Œç”¨æˆ·ä»èƒ½å®Œæˆæ‰€æœ‰æ“ä½œã€‚è§†è§‰é—®é¢˜å¯èƒ½ç•¥å¾®é™ä½ç¾è§‚åº¦ï¼Œä½†ä¸å½±å“å¯ç”¨æ€§ã€‚

---

## ğŸ”§ æµ‹è¯•æ‰§è¡Œç»“æœ

### æœ€åæ‰§è¡Œæ—¶é—´
- **æ—¥æœŸ**: 2025-10-27
- **æµ‹è¯•æ¡†æ¶**: Vitest v3.2.4
- **æµ‹è¯•ç¯å¢ƒ**: jsdom
- **æ‰§è¡Œæ—¶é•¿**: 1.09s

### æ‰§è¡Œå‘½ä»¤
```bash
npx vitest __tests__/search-google-edge-node/unit/SearchGoogle.params.test.tsx --run
```

### æµ‹è¯•è¾“å‡ºæ‘˜è¦
```
Test Files  1 passed (1)
     Tests  9 passed | 7 failed (16)
  Start at  14:42:30
  Duration  2.18s (transform 146ms, setup 56ms, collect 273ms, tests 1.09s, environment 445ms, prepare 79ms)
```

---

## ğŸ› å·²çŸ¥é—®é¢˜å’Œå¾…ä¿®å¤

### é«˜ä¼˜å…ˆçº§é—®é¢˜ (å½±å“ P0/P1 æµ‹è¯•)

#### 1. å‚æ•°ä¿®æ”¹åæœªæ­£ç¡®æ›´æ–°åˆ° node.data
- **å½±å“ç”¨ä¾‹**: TC-SG-001-1 (P0), TC-SG-002, TC-SG-003, TC-SG-003-1, TC-SG-004 (P1)
- **å¤±è´¥åŸå› **: 
  - ç»„ä»¶ä½¿ç”¨ `requestAnimationFrame` å»¶è¿Ÿæ›´æ–° (line 207)
  - æµ‹è¯•ä¸­ setNodes è¢«è°ƒç”¨ï¼Œä½†æ›´æ–°çš„ top_k å€¼ä»ç„¶æ˜¯æ—§å€¼ï¼ˆ5ï¼‰
  - å¯èƒ½æ˜¯å› ä¸º requestAnimationFrame åœ¨æµ‹è¯•ç¯å¢ƒä¸­æ‰§è¡Œæ—¶æœºä¸ç¡®å®š
- **å»ºè®®ä¿®å¤**: 
  - **æ–¹æ¡ˆ 1**: åœ¨æµ‹è¯•ä¸­ mock requestAnimationFrame ä½¿å…¶ç«‹å³æ‰§è¡Œ
  - **æ–¹æ¡ˆ 2**: å¢åŠ æµ‹è¯•ç­‰å¾…æ—¶é—´ï¼Œç­‰å¾… requestAnimationFrame å›è°ƒå®Œæˆ
  - **æ–¹æ¡ˆ 3**: ç»„ä»¶ä¼˜åŒ– - å¯¹äºå…³é”®å‚æ•°ï¼ˆP0ï¼‰ç«‹å³ä¿å­˜ï¼Œä¸ä½¿ç”¨ requestAnimationFrame

#### 2. ç»„ä»¶åˆå§‹åŒ–æœªæ­£ç¡®åŠ è½½ node.data ä¸­çš„é…ç½®
- **å½±å“ç”¨ä¾‹**: TC-SG-006-1 (P2)
- **å¤±è´¥åŸå› **: 
  - ä¼ å…¥ data.top_k = 10 æˆ– 15ï¼Œä½†ç»„ä»¶æ€»æ˜¯æ˜¾ç¤ºé»˜è®¤å€¼ 5
  - ç»„ä»¶çš„ useState åˆå§‹åŒ–ä½¿ç”¨äº† getNode(id)ï¼Œä½†æµ‹è¯•ä¸­ getNode mock è¿”å›çš„æ˜¯é»˜è®¤èŠ‚ç‚¹
  - ç»„ä»¶å†…éƒ¨çŠ¶æ€ top_k åˆå§‹åŒ–åï¼Œæ²¡æœ‰å“åº” props.data çš„å˜åŒ–
- **å»ºè®®ä¿®å¤**: 
  - **æ–¹æ¡ˆ 1**: æµ‹è¯•ä¸­æ­£ç¡®è®¾ç½® getNode çš„è¿”å›å€¼ä¸ºä¼ å…¥çš„èŠ‚ç‚¹
  - **æ–¹æ¡ˆ 2**: ç»„ä»¶æ·»åŠ  useEffect ç›‘å¬ data.top_k å˜åŒ–
  - **æ–¹æ¡ˆ 3**: ä½¿ç”¨ props.data ç›´æ¥åˆå§‹åŒ– useStateï¼Œè€Œä¸æ˜¯é€šè¿‡ getNode

### æŠ€æœ¯åˆ†æ

#### requestAnimationFrame å»¶è¿Ÿæ›´æ–°é—®é¢˜

**ä»£ç ä½ç½®**: Line 205-231

```typescript
useEffect(() => {
  if (!isOnGeneratingNewNode && hasMountedRef.current) {
    requestAnimationFrame(() => {
      const node = getNode(id);
      if (node) {
        setNodes(prevNodes =>
          prevNodes.map(n => {
            if (n.id === id) {
              return {
                ...n,
                data: {
                  ...n.data,
                  top_k: top_k,
                },
              };
            }
            return n;
          })
        );
      }
    });
  }
}, [id, setNodes, top_k, isOnGeneratingNewNode]);
```

**é—®é¢˜**: 
- æ¯æ¬¡ top_k æ”¹å˜æ—¶ï¼Œä¼šåœ¨ä¸‹ä¸€ä¸ª animation frame æ‰æ›´æ–° node.data
- æµ‹è¯•ä¸­å¯èƒ½åœ¨ requestAnimationFrame æ‰§è¡Œå‰å°±æ£€æŸ¥äº†ç»“æœ
- å³ä½¿ç”¨ waitForï¼Œå¦‚æœ requestAnimationFrame æ²¡æœ‰è¢«è°ƒåº¦ï¼Œä¹Ÿä¸ä¼šæ‰§è¡Œ

#### ç»„ä»¶åˆå§‹åŒ–é—®é¢˜

**ä»£ç ä½ç½®**: Line 77-79

```typescript
const [top_k, setTop_k] = useState<number | undefined>(
  () => (getNode(id)?.data as SearchConfigNodeData)?.top_k ?? 5
);
```

**é—®é¢˜**:
- åˆå§‹åŒ–æ—¶ä» getNode è·å–æ•°æ®ï¼Œè€Œä¸æ˜¯ç›´æ¥ä» props.data
- å¦‚æœ getNode è¿”å›çš„æ•°æ®ä¸ props.data ä¸ä¸€è‡´ï¼Œä¼šå¯¼è‡´æ˜¾ç¤ºé”™è¯¯
- useState çš„åˆå§‹åŒ–å‡½æ•°åªåœ¨é¦–æ¬¡æ¸²æŸ“æ—¶æ‰§è¡Œä¸€æ¬¡

---

## ğŸ¯ æ”¹è¿›å»ºè®®

### çŸ­æœŸæ”¹è¿› (1-2å¤©)

1. **ä¿®å¤æµ‹è¯•ç¯å¢ƒçš„ requestAnimationFrame**
   ```typescript
   // åœ¨æµ‹è¯•æ–‡ä»¶ä¸­æ·»åŠ 
   beforeEach(() => {
     vi.spyOn(window, 'requestAnimationFrame').mockImplementation((cb: any) => {
       cb();
       return 0;
     });
   });
   ```

2. **ä¿®å¤ getNode mock**
   ```typescript
   // ç¡®ä¿ getNode è¿”å›æ­£ç¡®çš„èŠ‚ç‚¹æ•°æ®
   const mockNode = createMockNode({ top_k: 10 });
   mockGetNode.mockReturnValue(mockNode);
   
   // å¹¶ä¸” useReactFlow ä¸­çš„ getNode ä¹Ÿè¦è¿”å›ç›¸åŒçš„èŠ‚ç‚¹
   mocks.useReactFlow.mockReturnValue({
     getNode: (id: string) => id === mockNode.id ? mockNode : null,
     // ...
   });
   ```

3. **ç»„ä»¶ä»£ç ä¼˜åŒ–**
   - è€ƒè™‘ç›´æ¥ä» props.data åˆå§‹åŒ–çŠ¶æ€
   - æˆ–æ·»åŠ  useEffect åŒæ­¥ props.data å˜åŒ–

### ä¸­æœŸæ”¹è¿› (1å‘¨)

1. **å‚æ•°ä¿å­˜ç­–ç•¥ä¼˜åŒ–**
   - P0/P1 å…³é”®å‚æ•°ï¼šç«‹å³ä¿å­˜ï¼ˆç§»é™¤ requestAnimationFrameï¼‰
   - P2/P3 å‚æ•°ï¼šå¯ä»¥ä½¿ç”¨é˜²æŠ–å»¶è¿Ÿä¿å­˜

2. **æ·»åŠ  data-testid**
   ```tsx
   <input
     data-testid="search-google-top-k-input"
     type="number"
     value={top_k}
     ...
   />
   ```

3. **æ”¹è¿›çŠ¶æ€ç®¡ç†**
   - ä½¿ç”¨ useEffect åŒæ­¥ props.data åˆ°æœ¬åœ°çŠ¶æ€
   - ç¡®ä¿ç»„ä»¶å¯ä»¥å“åº”å¤–éƒ¨æ•°æ®å˜åŒ–

---

## ğŸ“š æ•°æ®ç»“æ„å®Œæ•´å®šä¹‰

### SearchConfigNodeData

```typescript
type SearchConfigNodeData = {
  // ã€å†…éƒ¨ä½¿ç”¨ã€‘èŠ‚ç‚¹æ ‡ç­¾
  nodeLabels?: { label: string; id: string }[];
  
  // ã€å†…éƒ¨ä½¿ç”¨ã€‘å­èœå•ç±»å‹
  subMenuType: string | null;
  
  // ã€P0 æ ¸å¿ƒå‚æ•°ã€‘æœç´¢ç»“æœæ•°é‡
  top_k: number | undefined;  // é»˜è®¤å€¼: 5
  
  // ã€å†…éƒ¨ä½¿ç”¨ã€‘å†…å®¹
  content: string | null;
  
  // ã€å†…éƒ¨ä½¿ç”¨ã€‘æ˜¯å¦å¾ªç¯
  looped: boolean | undefined;
  
  // ã€å†…éƒ¨ä½¿ç”¨ã€‘æŸ¥è¯¢è¾“å…¥ IDï¼ˆé€šè¿‡ InputOutputDisplay ç®¡ç†ï¼‰
  query_id: { id: string; label: string } | undefined;
  
  // ã€å†…éƒ¨ä½¿ç”¨ã€‘å‘é‡æ•°æ®åº“ï¼ˆä¿ç•™å­—æ®µï¼Œå½“å‰æœªä½¿ç”¨ï¼‰
  vector_db: { id: string; label: string } | undefined;
  
  // ã€æ‰©å±•é…ç½®ã€‘é¢å¤–é…ç½®é¡¹
  extra_configs: {
    // ã€ä¿ç•™å­—æ®µã€‘Perplexity æ¨¡å‹é€‰é¡¹ï¼ˆUI ä¸­æœªæš´éœ²ï¼‰
    model:
      | 'llama-3.1-sonar-small-128k-online'
      | 'llama-3.1-sonar-large-128k-online'
      | 'llama-3.1-sonar-huge-128k-online'
      | undefined;
    
    // ã€ä¿ç•™å­—æ®µã€‘é˜ˆå€¼ï¼ˆUI ä¸­æœªæš´éœ²ï¼‰
    threshold: number | undefined;
  };
};
```

### è¾“å…¥è¾“å‡ºé…ç½®

```typescript
// è¾“å…¥ç±»å‹
supportedInputTypes: ['text']           // æ¥å— Text Block è¾“å…¥

// è¾“å‡ºç±»å‹
supportedOutputTypes: ['structured']    // è¾“å‡º Structured Block

// èŠ‚ç‚¹ç±»åˆ«
inputNodeCategory: 'blocknode'          // è¾“å…¥æ¥è‡ª Block Node
outputNodeCategory: 'blocknode'         // è¾“å‡ºåˆ° Block Node
```

---

## ğŸ”§ æµ‹è¯•å‡†å¤‡å·¥ä½œ

### Mock ä¾èµ–åˆ—è¡¨

æµ‹è¯•æ–‡ä»¶éœ€è¦ mock ä»¥ä¸‹ä¾èµ–ï¼š

```typescript
// 1. React Flow
vi.mock('@xyflow/react', () => ({
  useReactFlow: mockUseReactFlow,
  Handle: MockHandle,
  Position: { Top: 'top', Right: 'right', Bottom: 'bottom', Left: 'left' },
}));

// 2. NodesPerFlowContext
vi.mock('@/app/components/states/NodesPerFlowContext', () => ({
  useNodesPerFlowContext: mockUseNodesPerFlowContext,
}));

// 3. Source/Target Hooks
vi.mock('@/app/components/hooks/useGetSourceTarget', () => ({
  default: mockUseGetSourceTarget,
}));

// 4. JSON Construct Utils
vi.mock('@/app/components/hooks/useJsonConstructUtils', () => ({
  default: mockUseJsonConstructUtils,
}));

// 5. App Settings Context
vi.mock('@/app/components/states/AppSettingsContext', () => ({
  useAppSettings: mockUseAppSettings,
}));

// 6. InputOutputDisplay Component
vi.mock('./components/InputOutputDisplay', () => ({
  default: MockInputOutputDisplay,
}));

// 7. Colors Utility
vi.mock('@/app/utils/colors', () => ({
  UI_COLORS: mockUIColors,
}));

// 8. Single Edge Node Executor
vi.mock('./hook/runSingleEdgeNodeExecutor', () => ({
  runSingleEdgeNode: mockRunSingleEdgeNode,
}));

// 9. Font Awesome
vi.mock('@fortawesome/react-fontawesome', () => ({
  FontAwesomeIcon: MockFontAwesomeIcon,
}));

// 10. React Portal
// createPortal éœ€è¦ç‰¹æ®Šå¤„ç†ï¼Œè®©å®ƒç›´æ¥æ¸²æŸ“å­å…ƒç´ 
vi.mock('react-dom', async () => {
  const actual = await vi.importActual('react-dom');
  return {
    ...actual,
    createPortal: (node: any) => node,
  };
});
```

### æµ‹è¯•æ•°æ®å‡†å¤‡

```typescript
// ç¤ºä¾‹èŠ‚ç‚¹æ•°æ® - ä½¿ç”¨é»˜è®¤å€¼
const mockNodeDataDefault: SearchConfigNodeData = {
  nodeLabels: [],
  subMenuType: null,
  top_k: 5,
  content: null,
  looped: false,
  query_id: undefined,
  vector_db: undefined,
  extra_configs: {
    model: undefined,
    threshold: undefined,
  },
};

// ç¤ºä¾‹èŠ‚ç‚¹æ•°æ® - è‡ªå®šä¹‰é…ç½®
const mockNodeDataCustom: SearchConfigNodeData = {
  nodeLabels: [],
  subMenuType: null,
  top_k: 10,
  content: null,
  looped: false,
  query_id: { id: 'text-1', label: 'Text Block 1' },
  vector_db: undefined,
  extra_configs: {
    model: 'llama-3.1-sonar-large-128k-online',
    threshold: 0.8,
  },
};

// ç¤ºä¾‹æºèŠ‚ç‚¹ï¼ˆç”¨äº InputOutputDisplayï¼‰
const mockSourceNodes = [
  { id: 'text-1', label: 'Text Block 1' },
  { id: 'text-2', label: 'Text Block 2' },
];
```

---

## ğŸ¯ æµ‹è¯•ç­–ç•¥

### å•å…ƒæµ‹è¯•é‡ç‚¹

1. **å‚æ•°ä¿å­˜æœºåˆ¶**
   - éªŒè¯ top_k ä¿®æ”¹åé€šè¿‡ setNodes æ­£ç¡®ä¿å­˜åˆ° node.data
   - ä½¿ç”¨ `waitFor` ç­‰å¾…å¼‚æ­¥æ›´æ–°å®Œæˆ
   - æ£€æŸ¥ setNodes è°ƒç”¨çš„å‚æ•°ç»“æ„

2. **çŠ¶æ€åŒæ­¥**
   - éªŒè¯ useState å’Œ node.data ä¹‹é—´çš„åŒå‘åŒæ­¥
   - æµ‹è¯•åˆå§‹åŒ–æ—¶ä» node.data åŠ è½½é…ç½®
   - æµ‹è¯•å‚æ•°ä¿®æ”¹æ—¶æ›´æ–° node.data

3. **è¾“å…¥éªŒè¯**
   - æ•°å­—ç±»å‹éªŒè¯
   - è¾¹ç•Œå€¼å¤„ç†ï¼ˆæœ€å°å€¼ 1ï¼Œåˆç†æœ€å¤§å€¼ 20ï¼‰
   - ç©ºå€¼å’Œæ— æ•ˆå€¼å¤„ç†ï¼ˆundefinedï¼‰

4. **UI äº¤äº’**
   - èœå•æ‰“å¼€/å…³é—­
   - Settings å±•å¼€/æ”¶èµ·
   - Hover çŠ¶æ€å’Œ Run æŒ‰é’®æ˜¾ç¤º
   - ç‚¹å‡»äº‹ä»¶è§¦å‘

5. **ç»„ä»¶é›†æˆ**
   - InputOutputDisplay æ­£ç¡®é…ç½®
   - Handle ç»„ä»¶æ­£ç¡®æ”¾ç½®
   - Portal èœå•æ­£ç¡®æ¸²æŸ“

### æµ‹è¯•æ³¨æ„äº‹é¡¹

1. **å¼‚æ­¥æ›´æ–°å¤„ç†**
   - ä½¿ç”¨ `waitFor` ç­‰å¾… setNodes è°ƒç”¨
   - ä½¿ç”¨ `act` åŒ…è£¹çŠ¶æ€æ›´æ–°
   - æ³¨æ„ requestAnimationFrame çš„å»¶è¿Ÿï¼ˆline 207ï¼‰

2. **DOM æŸ¥è¯¢ç­–ç•¥**
   - ä¼˜å…ˆä½¿ç”¨ placeholder text ("Result Number")
   - ä½¿ç”¨ type="number" å±æ€§å®šä½è¾“å…¥æ¡†
   - è€ƒè™‘æ·»åŠ  data-testid å±æ€§æ–¹ä¾¿æµ‹è¯•

3. **Portal æµ‹è¯•**
   - Mock createPortal ç›´æ¥æ¸²æŸ“å­å…ƒç´ 
   - éªŒè¯ portal å†…å®¹æ­£ç¡®æ¸²æŸ“åˆ° body

4. **äº‹ä»¶æ¨¡æ‹Ÿ**
   - ä½¿ç”¨ userEvent æˆ– fireEvent æ¨¡æ‹Ÿç”¨æˆ·äº¤äº’
   - æµ‹è¯• onChangeã€onClickã€onMouseEnter/Leave ç­‰äº‹ä»¶
   - æ³¨æ„ onFocus/onBlur çš„ nodrag ç±»å¤„ç†

---

## ğŸ’¡ å·²çŸ¥æŒ‘æˆ˜å’Œè§£å†³æ–¹æ¡ˆ

### æŒ‘æˆ˜ 1: requestAnimationFrame å»¶è¿Ÿ
**é—®é¢˜**: çŠ¶æ€åŒæ­¥ä½¿ç”¨ requestAnimationFrame å»¶è¿Ÿæ‰§è¡Œï¼ˆline 207ï¼‰
**è§£å†³æ–¹æ¡ˆ**: 
- åœ¨æµ‹è¯•ä¸­ä½¿ç”¨ `waitFor` å¹¶å¢åŠ è¶³å¤Ÿçš„è¶…æ—¶æ—¶é—´
- æˆ–è€… mock requestAnimationFrame ç«‹å³æ‰§è¡Œ

### æŒ‘æˆ˜ 2: createPortal èœå•å®šä½
**é—®é¢˜**: é…ç½®èœå•ä½¿ç”¨ fixed å®šä½å’Œ portalï¼Œæµ‹è¯•ç¯å¢ƒå¯èƒ½ä¸æ”¯æŒ
**è§£å†³æ–¹æ¡ˆ**: 
- Mock createPortal ç›´æ¥è¿”å›å­å…ƒç´ 
- ä¸æµ‹è¯•èœå•çš„ç»å¯¹å®šä½ï¼ŒåªéªŒè¯å†…å®¹æ¸²æŸ“

### æŒ‘æˆ˜ 3: è¾“å…¥æ¡†å®šä½
**é—®é¢˜**: Result Number è¾“å…¥æ¡†åœ¨åµŒå¥—çš„ Settings åŒºåŸŸå†…
**è§£å†³æ–¹æ¡ˆ**: 
- å…ˆå±•å¼€ Settings (ç‚¹å‡» Show æŒ‰é’®)
- ä½¿ç”¨æ˜ç¡®çš„æŸ¥è¯¢æ¡ä»¶ï¼ˆlabel + type="number"ï¼‰
- æˆ–ä¸ºè¾“å…¥æ¡†æ·»åŠ  data-testid

### æŒ‘æˆ˜ 4: èŠ‚ç‚¹æ¿€æ´»çŠ¶æ€ç®¡ç†
**é—®é¢˜**: ç»„ä»¶ä¾èµ– NodesPerFlowContext çš„å¤æ‚çŠ¶æ€
**è§£å†³æ–¹æ¡ˆ**: 
- Mock å®Œæ•´çš„ context å¯¹è±¡
- æä¾›æ‰€æœ‰å¿…éœ€çš„æ–¹æ³•ï¼ˆactivateEdge, clearAll ç­‰ï¼‰
- éªŒè¯è¿™äº›æ–¹æ³•åœ¨é€‚å½“æ—¶æœºè¢«è°ƒç”¨

---

## ğŸ“– å‚è€ƒèµ„æ–™

### ç›¸å…³æ–‡ä»¶
- ç»„ä»¶æºç : `app/components/workflow/edgesNode/edgeNodesNew/SearchGoogle.tsx`
- æµ‹è¯•æ–‡ä»¶: `__tests__/search-google-edge-node/unit/SearchGoogle.params.test.tsx` (å¾…åˆ›å»º)
- æµ‹è¯•æ–‡æ¡£: `__tests__/search-google-edge-node/SearchGoogle-æµ‹è¯•æ–‡æ¡£.md` (æœ¬æ–‡æ¡£)

### å…¶ä»–æµ‹è¯•æ–‡æ¡£å‚è€ƒ
- [Generate Edge Node æµ‹è¯•æ–‡æ¡£](../generate-edge-node/Generate-æµ‹è¯•æ–‡æ¡£.md)
- [Retrieving Edge Node æµ‹è¯•æ–‡æ¡£](../retrieving-edge-node/Retrieving-æµ‹è¯•æ–‡æ¡£.md)
- [JSON Block Node æµ‹è¯•æ–‡æ¡£](../json-block-node/docs/JsonNodeNew-æµ‹è¯•æ–‡æ¡£.md)
- [File Block Node æµ‹è¯•æ–‡æ¡£](../file-block-node/docs/FileNode-æµ‹è¯•æ–‡æ¡£.md)

### æŠ€æœ¯æ–‡æ¡£
- [React Testing Library](https://testing-library.com/docs/react-testing-library/intro/)
- [Vitest æµ‹è¯•æ¡†æ¶](https://vitest.dev/)
- [React Flow æ–‡æ¡£](https://reactflow.dev/)
- [Perplexity API](https://docs.perplexity.ai/)

---

## ğŸ”„ åç»­æ”¹è¿›å»ºè®®

### çŸ­æœŸæ”¹è¿› (å®ç°æµ‹è¯•å)

1. **æ·»åŠ  data-testid å±æ€§**
   ```tsx
   <input
     data-testid="search-google-top-k-input"
     type="number"
     value={top_k}
     ...
   />
   ```

2. **è¾“å…¥éªŒè¯å¢å¼º**
   - æ·»åŠ æœ€å°å€¼/æœ€å¤§å€¼é™åˆ¶ï¼ˆmin=1, max=50ï¼‰
   - æ˜¾ç¤ºæ— æ•ˆè¾“å…¥çš„é”™è¯¯æç¤º
   - é˜²æ­¢è¾“å…¥è´Ÿæ•°æˆ–å°æ•°

3. **ç”¨æˆ·ä½“éªŒä¼˜åŒ–**
   - æ·»åŠ  top_k å‚æ•°çš„è¯´æ˜æ–‡æœ¬
   - æ˜¾ç¤ºæ¨èçš„é»˜è®¤å€¼èŒƒå›´
   - æä¾›å¸¸ç”¨é¢„è®¾å€¼ï¼ˆ5, 10, 20ï¼‰

### ä¸­æœŸæ”¹è¿› (1-2å‘¨)

1. **æš´éœ²æ›´å¤šé…ç½®é€‰é¡¹**
   - å°† extra_configs.model æš´éœ²åˆ° UIï¼ˆModel é€‰æ‹©å™¨ï¼‰
   - è€ƒè™‘æ·»åŠ  threshold å‚æ•°ï¼ˆç›¸å…³åº¦é˜ˆå€¼ï¼‰
   - æ·»åŠ æœç´¢è¯­è¨€é€‰é¡¹

2. **é›†æˆæµ‹è¯•**
   - æµ‹è¯•ä¸ InputOutputDisplay çš„äº¤äº’
   - æµ‹è¯•å®Œæ•´çš„æ‰§è¡Œæµç¨‹ï¼ˆmock runSingleEdgeNodeï¼‰
   - æµ‹è¯•ä¸å…¶ä»–èŠ‚ç‚¹çš„è¿æ¥

3. **æ€§èƒ½ä¼˜åŒ–**
   - å‡å°‘ä¸å¿…è¦çš„ useCallback/useMemo
   - ä¼˜åŒ– portal èœå•çš„å®šä½é€»è¾‘
   - å‡å°‘ requestAnimationFrame çš„ä½¿ç”¨

---

## ğŸ“ ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®æ”¹å†…å®¹ |
|------|------|----------|
| v1.1 | 2025-10-27 | âœ… æµ‹è¯•å¯è¿è¡Œï¼Œ9/16 é€šè¿‡ (56.3%)<br>ğŸ› æ ‡è®° 7 ä¸ªå¤±è´¥ç”¨ä¾‹<br>ğŸ“Š æ·»åŠ è¯¦ç»†è¦†ç›–ç‡ç»Ÿè®¡<br>ğŸ’¡ æä¾›è¯¦ç»†çš„æŠ€æœ¯åˆ†æå’Œæ”¹è¿›å»ºè®®<br>ğŸ”§ è¯†åˆ« requestAnimationFrame å’Œåˆå§‹åŒ–é—®é¢˜ |
| v1.0 | 2025-10-27 | ğŸ“ åˆå§‹ç‰ˆæœ¬ï¼Œ18ä¸ªæµ‹è¯•ç”¨ä¾‹è§„åˆ’<br>ğŸ“Š åŒ…å« P0-P3 å››ä¸ªä¼˜å…ˆçº§<br>ğŸ¯ è¦†ç›– Result Numberã€Settingsã€åˆå§‹åŒ–ã€UIã€è¾“å…¥è¾“å‡º äº”å¤§æ¨¡å—<br>ğŸ“š å®Œæ•´çš„æ•°æ®ç»“æ„å®šä¹‰å’Œ Mock å‡†å¤‡æ¸…å•<br>ğŸ’¡ è¯†åˆ«å·²çŸ¥æŒ‘æˆ˜å’Œè§£å†³æ–¹æ¡ˆ |

---

*å½“å‰ç‰ˆæœ¬: v1.1*  
*æœ€åæ›´æ–°: 2025-10-27*  
*ç»´æŠ¤è€…: æµ‹è¯•å›¢é˜Ÿ*  
*çŠ¶æ€: âœ… æµ‹è¯•å¯è¿è¡Œï¼Œ56.3% é€šè¿‡ç‡*

