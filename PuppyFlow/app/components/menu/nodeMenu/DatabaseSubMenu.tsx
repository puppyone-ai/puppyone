import React, {useState, useEffect} from 'react'
import { useNodeContext } from '../../states/NodeContext'
import { useReactFlow } from '@xyflow/react'
import { nodeSmallProps } from './NodeMenu'

type DatabaseSubMenuProps = {
    selectedMenu: number,
    handleMouseDown: (nodeType: string) => void
}


  

function DatabaseSubMenu({selectedMenu, handleMouseDown}: DatabaseSubMenuProps) {
    const {getNodes, setNodes} = useReactFlow()
  const {addNode, nodes, totalCount, addCount} = useNodeContext()



  return (
        <ul id="nodeMenu" className={` ${selectedMenu === 1? 'opacity-100 translate-y-0' : 'opacity-0 hidden translate-y-4'}  bg-[#1c1d1f] rounded-[8px] border-solid border-[1px] border-[#3e3e41] absolute top-[275px] overflow-hidden left-[195px] z-[10000] text-white flex flex-col justify-evenly items-center gap-[6px] p-[6px] transition-all duration-300 ease-in-out transform origin-top`} >
        <li>
            <button id="" className='w-[180px] h-[57px] bg-[#3E3E41] rounded-[5px] flex flex-row items-start gap-2 p-[6px] font-plus-jakarta-sans text-[#CDCDCD] cursor-pointer hover:bg-main-blue transition-colors' onClick={(event)=> {
              event.preventDefault()
              event.stopPropagation()
              // setNode({nodeid: `${totalCount + 1}`, nodeType: "database"})
              // setIsAdd(false)
              handleMouseDown("database")
            }}>
            <div className='w-[44px] h-[44px] bg-[#1C1D1F] flex items-center justify-center text-[18px] font-[400] rounded-[5px]'>
                <svg xmlns="http://www.w3.org/2000/svg" width="23" height="30" fill="none" viewBox="0 0 23 30">
                <path fill="#CDCDCD" d="M3.1 10.027c0 .551.14.943.419 1.176.28.237.585.374.918.414v.628c-.637-.064-1.165-.252-1.584-.564-.415-.308-.623-.816-.623-1.525V9.049c0-.39-.06-.698-.183-.924-.222-.411-.648-.651-1.278-.72v-.612c.634-.075 1.06-.31 1.278-.703.122-.219.183-.532.183-.94v-.876c0-.673.145-1.206.435-1.6.294-.394.884-.629 1.772-.704v.613c-.576.05-.966.304-1.17.762-.111.25-.167.598-.167 1.042v.602c0 .537-.066.949-.199 1.235-.24.52-.705.811-1.396.876.687.06 1.153.361 1.396.902.133.297.2.702.2 1.214v.81Zm6.462-3.26L8.364 3.28 7.09 6.767h2.47ZM7.805 2.11h1.209L11.877 10h-1.171l-.8-2.363H6.784L5.93 10H4.835l2.97-7.89Zm5.656 6.36c0 .279.102.499.306.66.204.161.446.242.725.242.34 0 .67-.08.988-.237.538-.261.806-.689.806-1.283v-.78c-.118.076-.27.139-.456.189a3.89 3.89 0 0 1-.548.107l-.586.075c-.35.047-.614.12-.79.22-.296.169-.445.437-.445.806Zm2.342-1.956c.222-.028.37-.122.445-.28a.85.85 0 0 0 .065-.37c0-.33-.118-.567-.354-.714-.233-.15-.568-.226-1.005-.226-.505 0-.863.136-1.074.409-.118.15-.195.374-.231.67h-.902c.018-.708.247-1.2.687-1.476.444-.28.958-.42 1.542-.42.676 0 1.226.13 1.649.388.419.257.628.658.628 1.203v3.314c0 .1.02.18.059.241.043.061.13.092.263.092a2.2 2.2 0 0 0 .145-.006c.054-.007.111-.016.172-.027v.715c-.15.043-.265.07-.344.08a2.5 2.5 0 0 1-.322.017c-.333 0-.575-.119-.725-.355-.079-.125-.134-.303-.167-.532-.197.258-.48.482-.848.672-.369.19-.775.284-1.22.284-.533 0-.97-.16-1.31-.483a1.627 1.627 0 0 1-.505-1.22c0-.533.167-.946.5-1.24.333-.294.77-.474 1.31-.542l1.542-.194Zm5.484.586c-.688-.065-1.152-.355-1.392-.87-.132-.287-.198-.7-.198-1.241v-.602c0-.472-.056-.83-.167-1.074-.2-.437-.59-.68-1.17-.73V1.97c.923.075 1.55.362 1.88.86.214.318.322.8.322 1.444v.876c0 .4.06.712.182.934.222.405.65.641 1.284.71v.612c-.63.064-1.058.306-1.284.725-.122.229-.183.535-.183.918v1.107c0 .723-.209 1.235-.628 1.536-.415.3-.94.485-1.574.553v-.628a1.59 1.59 0 0 0 .956-.462c.255-.254.382-.63.382-1.128v-.811c0-.516.066-.92.198-1.214.244-.54.708-.842 1.392-.902Z"/>
                <path stroke="#CDCDCD" d="M16.5 19.217c0 .143-.063.318-.255.518-.194.204-.498.41-.912.593-.828.367-2.005.607-3.333.607-1.328 0-2.506-.24-3.333-.607-.414-.184-.718-.39-.912-.593-.192-.2-.255-.375-.255-.518 0-.143.063-.317.255-.518.194-.203.498-.409.912-.593.827-.366 2.005-.606 3.333-.606 1.328 0 2.505.24 3.333.607.414.183.718.389.912.592.192.201.255.375.255.518Z"/>
                <path fill="#CDCDCD" fillRule="evenodd" d="M7 24.391c0 1.089 2.239 1.971 5 1.971s5-.882 5-1.97h-1.04a.73.73 0 0 1-.036.035c-.13.121-.373.276-.756.427-.761.3-1.882.508-3.169.508-1.288 0-2.408-.207-3.169-.508-.383-.15-.626-.306-.756-.427a.775.775 0 0 1-.036-.036H7Zm.989.065.002-.005a.02.02 0 0 1-.002.005Zm8.02-.005.002.005-.002-.005ZM7 21.927c0 1.089 2.239 1.971 5 1.971s5-.882 5-1.97h-1.04a.777.777 0 0 1-.036.035c-.13.121-.373.277-.756.428-.761.3-1.882.507-3.169.507-1.288 0-2.408-.207-3.169-.507-.383-.151-.626-.307-.756-.428a.828.828 0 0 1-.036-.036H7Zm.989.065.002-.005a.02.02 0 0 1-.002.005Zm8.02-.005.002.005-.002-.005Zm-9.005 4.868a.917.917 0 0 0-.004.092c0 1.224 2.239 2.217 5 2.217s5-.993 5-2.217c0-.031-.002-.062-.004-.092h-1.044a.392.392 0 0 1 .047.088v.007a.137.137 0 0 1-.009.025.568.568 0 0 1-.107.145c-.134.14-.377.314-.753.48-.75.333-1.856.564-3.13.564-1.275 0-2.38-.231-3.13-.564-.376-.166-.619-.34-.753-.48a.568.568 0 0 1-.107-.145.13.13 0 0 1-.01-.025v-.007c.001-.003.003-.011.01-.024a.392.392 0 0 1 .038-.064H7.004Z" clipRule="evenodd"/>
                <path stroke="#CDCDCD" d="M16.5 26.977v-7.5m-9 7.5v-7.5"/>
                </svg>

            </div>
            <div className='text-[12px] font-[700] pt-1 '>for Structured Text</div>
            </button> 
        </li> 
        <li>
            <button id="" className='w-[180px] h-[57px] bg-[#3E3E41] rounded-[5px] flex flex-row items-start gap-2 p-[6px] font-plus-jakarta-sans text-[#CDCDCD] cursor-pointer hover:bg-main-blue transition-colors' onClick={(event)=> {
              event.preventDefault()
              event.stopPropagation()
              // setNode({nodeid: `${totalCount + 1}`, nodeType: "vector_database"})
              // setIsAdd(false)
              handleMouseDown("vector_database")
            }}>
            <div className='w-[44px] h-[44px] bg-[#1C1D1F] flex items-center justify-center  text-[16px] font-[400] rounded-[5px]'>
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="31" viewBox="0 0 14 31" fill="none">
                <path d="M11.4999 20.2173C11.4999 20.3604 11.4366 20.5346 11.2452 20.7353C11.0513 20.9386 10.7471 21.1444 10.3328 21.3281C9.50551 21.695 8.32759 21.9346 6.99997 21.9346C5.67235 21.9346 4.49443 21.695 3.66715 21.3281C3.25286 21.1444 2.94862 20.9386 2.75474 20.7353C2.5633 20.5346 2.5 20.3604 2.5 20.2173C2.5 20.0742 2.5633 19.9 2.75474 19.6993C2.94862 19.496 3.25286 19.2902 3.66715 19.1065C4.49443 18.7396 5.67235 18.5 6.99997 18.5C8.32759 18.5 9.50551 18.7396 10.3328 19.1065C10.7471 19.2902 11.0513 19.496 11.2452 19.6993C11.4366 19.9 11.4999 20.0742 11.4999 20.2173Z" stroke="#CDCDCD"/>
                <path fillRule="evenodd" clipRule="evenodd" d="M2 25.3911C2.00002 26.4796 4.23857 27.362 6.99997 27.362C9.76136 27.362 11.9999 26.4796 11.9999 25.3911H10.9613C10.9513 25.4017 10.9394 25.4136 10.9252 25.4267C10.7951 25.548 10.5524 25.7032 10.1688 25.8544C9.40749 26.1545 8.28754 26.362 6.99997 26.362C5.7124 26.362 4.59245 26.1545 3.83118 25.8544C3.44757 25.7032 3.20482 25.548 3.07471 25.4267C3.06058 25.4136 3.04866 25.4017 3.03863 25.3911H2ZM2.98881 25.4556C2.98866 25.4556 2.9893 25.4539 2.99121 25.4505C2.98992 25.4539 2.98896 25.4556 2.98881 25.4556ZM11.0087 25.4505C11.0106 25.4539 11.0113 25.4556 11.0111 25.4556C11.011 25.4556 11.01 25.4539 11.0087 25.4505Z" fill="#CDCDCD"/>
                <path fillRule="evenodd" clipRule="evenodd" d="M2 22.9275C2.00002 24.016 4.23857 24.8984 6.99997 24.8984C9.76136 24.8984 11.9999 24.016 11.9999 22.9275H10.9613C10.9513 22.9381 10.9394 22.9499 10.9252 22.9631C10.7951 23.0844 10.5524 23.2396 10.1688 23.3908C9.40749 23.6909 8.28754 23.8984 6.99997 23.8984C5.7124 23.8984 4.59245 23.6909 3.83118 23.3908C3.44757 23.2396 3.20482 23.0844 3.07471 22.9631C3.06058 22.9499 3.04866 22.9381 3.03863 22.9275H2ZM2.98881 22.992C2.98866 22.992 2.9893 22.9903 2.99121 22.9869C2.98992 22.9903 2.98896 22.992 2.98881 22.992ZM11.0087 22.9869C11.0106 22.9903 11.0113 22.992 11.0111 22.992C11.011 22.992 11.01 22.9903 11.0087 22.9869Z" fill="#CDCDCD"/>
                <path fillRule="evenodd" clipRule="evenodd" d="M2.00422 27.8547C2.00142 27.8852 2 27.9159 2 27.9467C2 29.1713 4.23856 30.164 6.99997 30.164C9.76138 30.164 11.9999 29.1713 11.9999 27.9467C11.9999 27.9159 11.9985 27.8852 11.9957 27.8547H10.9516C10.9716 27.8823 10.9835 27.9039 10.9904 27.9188C10.9965 27.932 10.9986 27.94 10.9994 27.9432L10.9999 27.9462L10.9999 27.9467L10.9999 27.9472L10.9994 27.9502C10.9986 27.9533 10.9965 27.9614 10.9904 27.9746C10.9778 28.0018 10.9482 28.0517 10.8834 28.1196C10.7486 28.2609 10.5063 28.4336 10.1301 28.6004C9.38034 28.9329 8.27451 29.164 6.99997 29.164C5.72543 29.164 4.61959 28.9329 3.86985 28.6004C3.49368 28.4336 3.2513 28.2609 3.11656 28.1196C3.05178 28.0517 3.02216 28.0018 3.00958 27.9746C3.00348 27.9614 3.00131 27.9533 3.00058 27.9502L3.00004 27.9472L3 27.9467L3.00004 27.9462L3.00058 27.9432C3.00131 27.94 3.00348 27.932 3.00958 27.9188C3.01644 27.9039 3.02838 27.8823 3.04834 27.8547H2.00422Z" fill="#CDCDCD"/>
                <path d="M11.5002 27.9773L11.4998 20.4773" stroke="#CDCDCD"/>
                <path d="M2.5 27.9773L2.5 20.4773" stroke="#CDCDCD"/>
                <path d="M0 14L4.59725 13.5543L1.91262 9.79581L0 14ZM6.7675 8.67451L2.69695 11.582L3.16194 12.233L7.2325 9.32549L6.7675 8.67451Z" fill="#CDCDCD"/>
                <path d="M7 9V2" stroke="#CDCDCD" strokeWidth="1.5"/>
                <path d="M7 -8.9407e-08L4.6906 4L9.3094 4L7 -8.9407e-08Z" fill="#CDCDCD"/>
                <path d="M7 9L2 12.5" stroke="#CDCDCD" strokeWidth="1.5"/>
                <path d="M14 14L9.40275 13.5543L12.0874 9.79581L14 14ZM7.2325 8.67451L11.3031 11.582L10.8381 12.233L6.7675 9.32549L7.2325 8.67451Z" fill="#CDCDCD"/>
                <path d="M7 9L12 12.5" stroke="#CDCDCD" strokeWidth="1.5"/>
                </svg>
            </div>
            <div className='text-[12px] font-[700] pt-1'>for Vector</div>
            </button> 
        </li> 
        
    </ul>
  )
}

export default DatabaseSubMenu