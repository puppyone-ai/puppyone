# Table Editor 设计示意图

## 对应的 JSON 数据

```json
{
  "users": ["张三", "李四", "王五"],
  "tags": "hello",
  "name": {
    "number": "张三",
    "call": "number",
    "status": "done"
  }
}
```

---

## Table Editor 渲染效果

### 全部展开状态

```
┌────────────┬────────────────────────────────────────────────────────────────────┐
│    KEY     │                              VALUE                                 │
╞════════════╪════════════════════════════════════════════════════════════════════╡
│            │                                                                    │
│  ▼ users   │  [3]                                                               │
│            ├────────┬───────────────────────────────────────────────────────────┤
│            │   0    │  "张三"                                                   │
│            ├────────┼───────────────────────────────────────────────────────────┤
│            │   1    │  "李四"                                                   │
│            ├────────┼───────────────────────────────────────────────────────────┤
│            │   2    │  "王五"                                                   │
├────────────┼────────┴───────────────────────────────────────────────────────────┤
│            │                                                                    │
│    tags    │  "hello"                                                           │
│            │                                                                    │
├────────────┼────────────────────────────────────────────────────────────────────┤
│            │                                                                    │
│  ▼ name    │  {3}                                                               │
│            ├──────────┬─────────────────────────────────────────────────────────┤
│            │  number  │  "张三"                                                 │
│            ├──────────┼─────────────────────────────────────────────────────────┤
│            │  call    │  "number"                                               │
│            ├──────────┼─────────────────────────────────────────────────────────┤
│            │  status  │  "done"                                                 │
└────────────┴──────────┴─────────────────────────────────────────────────────────┘
```

### 全部折叠状态

```
┌────────────┬────────────────────────────────────────────────────────────────────┐
│    KEY     │                              VALUE                                 │
╞════════════╪════════════════════════════════════════════════════════════════════╡
│  ▶ users   │  [3]                                                               │
├────────────┼────────────────────────────────────────────────────────────────────┤
│    tags    │  "hello"                                                           │
├────────────┼────────────────────────────────────────────────────────────────────┤
│  ▶ name    │  {3}                                                               │
└────────────┴────────────────────────────────────────────────────────────────────┘
```

---

## 对比：Tree Editor (原有)

同样的 JSON 在 Tree Editor 中的渲染：

```
├─ users ──── [3] ▶
│              ├─ 0 ──────── "张三"
│              ├─ 1 ──────── "李四"
│              └─ 2 ──────── "王五"
├─ tags ───── "hello"
╰─ name ───── {3} ▶
               ├─ number ─── "张三"
               ├─ call ───── "number"
               └─ status ─── "done"
```

---

## 深层嵌套示例

### JSON 数据

```json
{
  "users": [
    { "id": 1, "name": "张三", "roles": ["admin", "editor"] },
    { "id": 2, "name": "李四", "roles": ["viewer"] }
  ],
  "meta": {
    "total": 2,
    "pagination": { "page": 1, "limit": 10 }
  }
}
```

### Table Editor 渲染 (部分展开)

```
┌────────────┬────────────────────────────────────────────────────────────────────────┐
│    KEY     │                              VALUE                                     │
╞════════════╪════════════════════════════════════════════════════════════════════════╡
│            │                                                                        │
│    users   │  [2]                                                                   │
│            ├────────┬───────────────────────────────────────────────────────────────┤
│            │        │                                                               │
│            │    0   │  {3}                                                          │
│            │        ├──────────┬────────────────────────────────────────────────────┤
│            │        │    id    │  1                                                 │
│            │        ├──────────┼────────────────────────────────────────────────────┤
│            │        │   name   │  "张三"                                             │
│            │        ├──────────┼────────────────────────────────────────────────────┤
│            │        │          │                                                    │
│            │        │ ▼ roles  │  [2]                                               │
│            │        │          ├────────┬───────────────────────────────────────────┤
│            │        │          │   0    │  "admin"                                  │
│            │        │          ├────────┼───────────────────────────────────────────┤
│            │        │          │   1    │  "editor"                                 │
│            ├────────┼──────────┴────────┴───────────────────────────────────────────┤
│            │        │                                                               │
│            │    1   │  {3}                                                          │
│            │        │                                                               │
├────────────┼────────┴───────────────────────────────────────────────────────────────┤
│            │                                                                        │
│    meta    │  {2}                                                                   │
│            ├──────────────┬─────────────────────────────────────────────────────────┤
│            │    total     │  2                                                      │
│            ├──────────────┼─────────────────────────────────────────────────────────┤
│            │              │                                                         │
│            │   pagination │  {2}                                                    │
│            │              ├──────────┬──────────────────────────────────────────────┤
│            │              │   page   │  1                                           │
│            │              ├──────────┼──────────────────────────────────────────────┤
│            │              │  limit   │  10                                          │
└────────────┴──────────────┴──────────┴──────────────────────────────────────────────┘
```

---

## 核心设计规则

| 规则 | 描述 |
|------|------|
| **列结构** | 永远是 2 列：`KEY` + `VALUE` |
| **叶子节点** | VALUE 直接显示原始值（string/number/boolean/null） |
| **容器节点** | VALUE 显示 `[n]` 或 `{n}`，可展开/折叠 |
| **展开机制** | 展开后，子内容作为**嵌套子表格**显示在 VALUE 单元格内部 |
| **展开图标** | `▼` 表示已展开，`▶` 表示已折叠 |
| **边框** | 用表格边框分隔层级，替代树形连接线 |
